<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>å¹¸ç¦çš„ç«è‹—ï½œç«‹å ´é¸æ“‡éŠæˆ²</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f7f3e9;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #c1440e;
    }
    #score-display {
      text-align: center;
      font-size: 28px;
      color: #d6336c;
      margin-top: 10px;
    }
    .sparkle {
      animation: sparkle 1s ease-in-out infinite alternate;
    }
    @keyframes sparkle {
      0% { text-shadow: 0 0 5px #ffc107; }
      100% { text-shadow: 0 0 20px #fd7e14; }
    }
    .section {
      margin-bottom: 20px;
    }
    .dropzone {
      min-height: 250px;
      border: 2px dashed #ccc;
      padding: 10px;
      background-color: #fff;
    }
    .dropzone h2 {
      text-align: center;
      color: #444;
    }
    .card {
      background-color: #fefefe;
      border: 1px solid #ccc;
      margin: 5px;
      padding: 8px;
      cursor: grab;
      border-radius: 5px;
      width: 150px;
      display: inline-block;
    }
    #card-pool {
      margin-top: 20px;
      background-color: #fff3cd;
      border: 2px solid #f0ad4e;
      padding: 10px;
      border-radius: 8px;
    }
    .container {
      display: flex;
      justify-content: space-around;
      gap: 20px;
    }
    .button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      background-color: #c1440e;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .stance-options {
      display: flex;
      justify-content: center;
      gap: 30px;
      font-size: 20px;
      margin-bottom: 10px;
    }
    #custom-card {
      margin-top: 10px;
    }
    #feedback {
      margin-top: 20px;
      font-size: 18px;
      line-height: 1.5;
    }
  </style>
</head>
<body>
  <h1>å¹¸ç¦çš„ç«è‹—ï½œæˆ‘æ˜¯ç«‹å ´å°å¾‹å¸«</h1>
  <div id="score-display"></div>

  <div class="section">
    <p>è«‹å…ˆé¸æ“‡ä½ çš„ç«‹å ´ï¼š</p>
    <div class="stance-options">
      <label><input type="radio" name="stance" value="hero"> æˆ‘æ”¯æŒæ™®ç¾…ç±³ä¿®æ–¯æ˜¯è‹±é›„</label>
      <label><input type="radio" name="stance" value="villain"> æˆ‘èªç‚ºæ™®ç¾…ç±³ä¿®æ–¯é•åè¦å®š</label>
    </div>
  </div>

  <div class="section">
    <div class="dropzone" id="player-zone" ondrop="drop(event)" ondragover="allowDrop(event)">
      <h2>è«‹å°‡æ”¯æŒä½ ç«‹å ´çš„å¥å­æ‹–æ›³è‡³æ­¤</h2>
    </div>
  </div>

  <div id="card-pool">
    <h2>å¥å­å¡ï¼ˆè«‹æ‹–æ›³ï¼‰</h2>
    <div id="card-container"></div>
  </div>

  <div class="section">
    <h3>è£œå……è‡ªå·±çš„è§€é»ï¼š</h3>
    <input type="text" id="custom-card" placeholder="è¼¸å…¥ä½ çš„è£œå……å¥å­...">
    <button onclick="addCustomCard()">æ–°å¢å¡ç‰‡</button>
  </div>

  <button class="button" onclick="checkAnswer()">æäº¤ä¸¦é©—è­‰</button>
  <div id="feedback"></div>

  <script>
    const correctHero = ['c1','c2','c3','c4','c5'];
    const correctVillain = ['c6','c7','c8','c9','c10'];

    const cards = [
      { id: 'c1', text: 'æˆ‘é¡˜æ„æ‰¿æ“”æ‰€æœ‰çš„å¾Œæœï¼' },
      { id: 'c2', text: 'ç«ç„°å¸¶ä¾†äº†æ˜äº®ã€æº«æš–èˆ‡å¹¸ç¦ã€‚' },
      { id: 'c3', text: 'äººå€‘åˆå”±åˆè·³ï¼Œé«˜è²çš„å‘¼å–Šè‘—ï¼šè¬è¬æ‚¨ï¼æ™®ç¾…ç±³ä¿®æ–¯ï¼' },
      { id: 'c4', text: 'ä»–å‰µé€ äº†äººé¡ï¼ŒæŠŠäººé¡ç•¶æˆå¿ƒæ„›çš„å­©å­ã€‚' },
      { id: 'c5', text: 'æ™®ç¾…ç±³ä¿®æ–¯ä¸ä½†å‰µé€ äº†äººé¡ï¼Œé‚„è²»ç›¡å¿ƒæ€æ•™å°ä»–å€‘å„ç¨®æŠ€èƒ½ã€‚' },
      { id: 'c6', text: 'ä¸çµ¦äººé¡ç«è‹—ï¼Œæ˜¯å®™æ–¯ç«‹ä¸‹çš„è¦å®šï¼Œç„¡è«–æ˜¯èª°é•åï¼Œéƒ½å°‡é¢è‡¨åš´é‡çš„å¾Œæœã€‚' },
      { id: 'c7', text: 'æ™®ç¾…ç±³ä¿®æ–¯èº²èº²è—è—åœ°ä¸Šå±±å–ç«ã€‚' },
      { id: 'c8', text: 'ä»–è¢«é–åœ¨å²©å£ä¸Šï¼Œæ¯å¤©è¢«è€é·¹å•„é£Ÿèº«é«”ã€‚' },
      { id: 'c9', text: 'å®™æ–¯å¤§ç™¼é›·éœ†ï¼Œå‘½äººå°‡æˆ‘ç¶åœ¨å²©å£ä¸Šã€‚' },
      { id: 'c10', text: 'ç«æƒ¹æ€’äº†å®™æ–¯ï¼Œä»–é‚„æ‰“ç®—é™ç¦çµ¦äººé¡ã€‚' },
      { id: 'n1', text: 'ç«çœ‹èµ·ä¾†å¥½ç¾ï¼Œä½†ä¹Ÿå¯èƒ½æœƒå‚·äººã€‚' },
      { id: 'n2', text: 'äººé¡å¤ªä¾è³´ç¥çš„å¹«åŠ©ï¼Œä»€éº¼æ™‚å€™æ‰èƒ½è‡ªç«‹è‡ªå¼·å‘¢ï¼Ÿ' },
      { id: 'n3', text: 'è€é·¹çœŸçš„æœ‰é€™éº¼é¤“å—ï¼Ÿé‚„æ˜¯åªæ˜¯åŸ·è¡Œå‘½ä»¤ï¼Ÿ' }
    ];

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function renderCards() {
      const container = document.getElementById("card-container");
      shuffle(cards).forEach(card => {
        const div = document.createElement("div");
        div.className = "card";
        div.id = card.id;
        div.draggable = true;
        div.ondragstart = drag;
        div.textContent = card.text;
        container.appendChild(div);
      });
    }

    function allowDrop(ev) {
      ev.preventDefault();
    }
    function drag(ev) {
      ev.dataTransfer.setData("text", ev.target.id);
    }
    function drop(ev) {
      ev.preventDefault();
      const data = ev.dataTransfer.getData("text");
      const dragged = document.getElementById(data);
      ev.target.appendChild(dragged);
    }

    function addCustomCard() {
      const input = document.getElementById("custom-card");
      const value = input.value.trim();
      if (value) {
        const id = "custom-" + Date.now();
        const div = document.createElement("div");
        div.className = "card";
        div.id = id;
        div.draggable = true;
        div.ondragstart = drag;
        div.textContent = value;
        document.getElementById("card-container").appendChild(div);
        input.value = "";
      }
    }

    function checkAnswer() {
      const stance = document.querySelector('input[name="stance"]:checked');
      if (!stance) {
        alert("è«‹å…ˆé¸æ“‡ä½ çš„ç«‹å ´ï¼");
        return;
      }

      const chosen = document.getElementById("player-zone").querySelectorAll(".card");
      let score = 0;
      let feedbackHTML = '<h3>æ¯å¼µå¡ç‰‡åˆ¤æ–·ï¼š</h3><ul>';

      chosen.forEach(c => {
        let correct = false;
        if ((stance.value === 'hero' && correctHero.includes(c.id)) ||
            (stance.value === 'villain' && correctVillain.includes(c.id)) ||
            c.id.startsWith("custom-")) {
          score += 20;
          correct = true;
        }
        feedbackHTML += `<li>${c.textContent} ${correct ? 'âœ”ï¸' : 'âŒ'}</li>`;
      });

      feedbackHTML += '</ul>';
      document.getElementById("score-display").innerHTML = `<span class='sparkle'>ğŸ‰ ä½ å¾—åˆ° ${score} åˆ†ï¼</span>`;
      document.getElementById("feedback").innerHTML = feedbackHTML;
    }

    renderCards();
  </script>
</body>
</html>
